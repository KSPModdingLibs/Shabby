<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net48</TargetFramework>
    <LangVersion>7.3</LangVersion>
    <IsPackable>false</IsPackable>
    <PlatformTarget>x64</PlatformTarget>
    <NoWarn>1701;1702;CS0649;CS1591</NoWarn>
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
  </PropertyGroup>

  <ItemGroup>
    <Reference Include="0Harmony, Culture=neutral, PublicKeyToken=null">
      <HintPath>dlls/0Harmony.dll</HintPath>
    </Reference>
    <Reference Include="Assembly-CSharp, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null">
      <HintPath>dlls/Assembly-CSharp.dll</HintPath>
    </Reference>
    <Reference Include="UnityEngine, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null">
      <HintPath>dlls/UnityEngine.dll</HintPath>
    </Reference>
    <Reference Include="UnityEngine.AssetBundleModule, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null">
      <HintPath>dlls/UnityEngine.AssetBundleModule.dll</HintPath>
    </Reference>
    <Reference Include="UnityEngine.CoreModule, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null">
      <HintPath>dlls/UnityEngine.CoreModule.dll</HintPath>
    </Reference>
  </ItemGroup>

  <ItemGroup>
    <Compile Remove="dlls/**"/>
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Remove="dlls/**"/>
  </ItemGroup>

  <ItemGroup>
    <None Remove="dlls/**"/>
  </ItemGroup>

  <ItemGroup>
    <None Include="../.editorconfig"/>
  </ItemGroup>
  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="/bin/mkdir -p '$(SolutionDir)/GameData/Shabby/Plugins'" IgnoreExitCode="true"/>
    <Exec Command="/bin/cp -v '$(OutDir)Shabby.dll' '$(SolutionDir)/GameData/Shabby/Plugins/'" IgnoreExitCode="true"/>
    <Exec Command="/bin/cp -v '$(SolutionDir)/Assets/Shabby.version' '$(SolutionDir)/GameData/Shabby/'" IgnoreExitCode="true"/>
  </Target>

</Project>